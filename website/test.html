<!DOCTYPE html>
<html>

<head>
    <style>
        #container {
            width: 500px;
            height: 500px;
            overflow: hidden;
            position: relative;
            border: 1px solid black;
        }

        #image {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: url('MainPage/hero-image.jpg');
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
            transform-origin: 0 0;
            transition: transform 0.3s ease;
            cursor: zoom-in;
        }
    </style>
</head>

<body>
    <div id="container">
        <div id="image"></div>
    </div>

    <script>
        var container = document.getElementById('container');
        var image = document.getElementById('image');

        // Adjust container dimensions to fit the image
        container.style.width = image.offsetWidth + 'px';
        container.style.height = image.offsetHeight + 'px';

        // Rest of the code...


        var currentScale = 1;
        var currentX = 0;
        var currentY = 0;
        var initialX = 0;
        var initialY = 0;
        var isDragging = false;

        function zoomIn() {
            if (currentScale < 3) {
                currentScale += 0.1;
                image.style.transform = `scale(${currentScale}) translate(${currentX}px, ${currentY}px)`;
                image.style.cursor = 'zoom-out';
            }
        }

        function zoomOut() {
            if (currentScale > 1) {
                currentScale -= 0.1;
                image.style.transform = `scale(${currentScale}) translate(${currentX}px, ${currentY}px)`;
            } else {
                image.style.cursor = 'zoom-in';
            }
        }

        function handleMouseDown(event) {
            event.preventDefault();
            isDragging = true;
            initialX = event.clientX - currentX;
            initialY = event.clientY - currentY;
            image.style.cursor = 'grabbing';
        }

        function handleMouseMove(event) {
            event.preventDefault();

            if (!isDragging) return;

            var imageWidth = image.offsetWidth * currentScale;
            var imageHeight = image.offsetHeight * currentScale;

            var maxTranslateX = (imageWidth - container.offsetWidth) / 2;
            var maxTranslateY = (imageHeight - container.offsetHeight) / 2;

            var newCurrentX = event.clientX - initialX;
            var newCurrentY = event.clientY - initialY;

            var minX = Math.min(0, container.offsetWidth / 2 - imageWidth / 2);
            var minY = Math.min(0, container.offsetHeight / 2 - imageHeight / 2);
            var maxX = Math.max(0, container.offsetWidth / 2 - imageWidth / 2);
            var maxY = Math.max(0, container.offsetHeight / 2 - imageHeight / 2);

            currentX = Math.max(minX, Math.min(newCurrentX, maxX));
            currentY = Math.max(minY, Math.min(newCurrentY, maxY));

            image.style.transform = `scale(${currentScale}) translate(${currentX}px, ${currentY}px)`;
        }



        function handleMouseUp() {
            isDragging = false;
            image.style.cursor = currentScale > 1 ? 'grab' : 'zoom-in';
        }

        function handleWheel(event) {
            event.preventDefault();

            var previousScale = currentScale;

            if (event.deltaY < 0) {
                zoomIn();
            } else {
                zoomOut();

                // Calculate the updated image dimensions after the zoom-out operation
                var imageWidth = image.offsetWidth * currentScale;
                var imageHeight = image.offsetHeight * currentScale;

                // Calculate the maximum allowed translation to keep the image aligned within the container
                var maxTranslateX = (imageWidth - container.offsetWidth) / 2;
                var maxTranslateY = (imageHeight - container.offsetHeight) / 2;

                // Check if the current translation exceeds the maximum allowed bounds
                var outOfBoundsX = Math.abs(currentX) > maxTranslateX;
                var outOfBoundsY = Math.abs(currentY) > maxTranslateY;

                // Adjust the image's position to keep it aligned within the container
                if (outOfBoundsX) {
                    currentX = Math.max(-maxTranslateX, Math.min(currentX, maxTranslateX));
                }
                if (outOfBoundsY) {
                    currentY = Math.max(-maxTranslateY, Math.min(currentY, maxTranslateY));
                }

                // Update the image's transform
                image.style.transform = `scale(${currentScale}) translate(${currentX}px, ${currentY}px)`;
            }
        }

        container.addEventListener('wheel', handleWheel);
        container.addEventListener('mousedown', handleMouseDown);
        container.addEventListener('mousemove', handleMouseMove);
        container.addEventListener('mouseup', handleMouseUp);
        container.addEventListener('mouseleave', handleMouseUp);
    </script>
</body>

</html>